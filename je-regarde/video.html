<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="robots" content="noindex, nofollow">
  <title>Lecteur HLS minimal</title>
  <style>
    html,body{margin:0;height:100%;background:#0b0b0b;color:#eaeaea;font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial}
    .wrap{min-height:100%;display:grid;place-items:center;padding:16px}
    video{width:min(100vw, 960px);height:auto;max-height:90vh;background:#000;border-radius:12px}
    .hint{opacity:.7;font-size:.9rem;margin-top:8px;text-align:center}
  </style>
</head>
<body>
  <div class="wrap">
    <div>
      <video id="video" controls playsinline preload="metadata"></video>
      <div class="hint">Si la vidéo ne démarre pas, vérifie l’URL .m3u8, les droits publics des .m3u8/.ts et la config CORS.</div>
    </div>
  </div>

  <!-- hls.js via CDN -->
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <script>
    // ↓↓↓ Remplace cette URL par la tienne ↓↓↓
    const M3U8_URL = "https://gbg.s3.gra.io.cloud.ovh.net/Miro/MIRO-2-2-HD-1080p.m3u8";

    const video = document.getElementById('video');

    // Chrome/Firefox/Edge : hls.js
    if (window.Hls && Hls.isSupported()) {
      const hls = new Hls({ enableWorker: true });
      hls.loadSource(M3U8_URL);
      hls.attachMedia(video);
      // Optionnel : auto-play si autorisé par le navigateur
      // video.muted = true; video.play().catch(()=>{});
    } 
    // Safari/iOS : HLS natif
    else if (video.canPlayType('application/vnd.apple.mpegURL')) {
      video.src = M3U8_URL;
      // video.play().catch(()=>{});
    } 
    else {
      document.querySelector('.hint').textContent =
        "Votre navigateur ne supporte pas HLS et hls.js est indisponible.";
    }
  </script>
</body>
</html>
